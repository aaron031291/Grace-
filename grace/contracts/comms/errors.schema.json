{
  "$id": "grace://comms/errors.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Grace Error Taxonomy",
  "type": "object",
  "properties": {
    "code": { 
      "enum": [
        "E.TIMEOUT","E.UNAVAILABLE","E.VALIDATION","E.UNAUTHORIZED",
        "E.FORBIDDEN","E.CONFLICT","E.NOT_FOUND","E.RATE_LIMIT",
        "E.PAYLOAD_TOO_LARGE","E.POLICY_VIOLATION","E.GOVERNANCE_REQUIRED",
        "E.RETRYABLE","E.NON_RETRYABLE","E.DEPENDENCY_DOWN"
      ]
    },
    "message": { "type": "string" },
    "details": { "type": "object" }
  },
  "required": ["code","message"]
}