{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Multi-OS Host Descriptor",
  "type": "object",
  "required": ["host_id", "os", "arch", "agent_version", "capabilities", "labels", "status"],
  "properties": {
    "host_id": {
      "type": "string",
      "description": "Unique identifier for the host"
    },
    "os": {
      "enum": ["linux", "windows", "macos"],
      "description": "Operating system type"
    },
    "arch": {
      "enum": ["x86_64", "arm64"],
      "description": "CPU architecture"
    },
    "agent_version": {
      "type": "string",
      "description": "Version of the multi-OS agent running on this host"
    },
    "capabilities": {
      "type": "array",
      "items": {
        "enum": ["process", "fs", "net", "pkg", "gpu", "container", "vm", "sandbox"]
      },
      "description": "List of capabilities supported by this host"
    },
    "labels": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Labels for host classification (e.g., 'gpu:a100', 'region:eu-west')"
    },
    "status": {
      "enum": ["online", "degraded", "offline"],
      "description": "Current operational status"
    },
    "endpoints": {
      "type": "object",
      "properties": {
        "control": {
          "type": "string",
          "description": "Control endpoint URL"
        },
        "metrics": {
          "type": "string",
          "description": "Metrics endpoint URL"
        }
      }
    }
  }
}